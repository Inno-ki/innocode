---
import { Image } from 'astro:assets';
import LogoDark from '../assets/logo-dark.svg';
import LogoLight from '../assets/logo-light.svg';
import Screenshot from '../assets/lander/screenshot-splash.png';

const features = [
  { title: 'LSP enabled', desc: 'Automatically loads the right LSPs for the LLM' },
  { title: 'Multi-session', desc: 'Start multiple agents in parallel on the same project' },
  { title: 'GitHub Copilot', desc: 'Log in with GitHub to use your Copilot account' },
  { title: 'ChatGPT Plus/Pro', desc: 'Log in with OpenAI to use your ChatGPT Plus or Pro account' },
  { title: 'Any model', desc: '75+ LLM providers through Models.dev, including local models' },
  { title: 'Any editor', desc: 'Available as a terminal interface, desktop app, and IDE extension' },
];

const faqs = [
  { q: 'What is InnoCode?', a: 'InnoCode is an AI coding agent that helps you write code in your terminal, IDE, or desktop.' },
  { q: 'How do I use InnoCode?', a: 'Install InnoCode using one of the methods above, configure your API key, and start coding with AI assistance.' },
  { q: 'Do I need extra AI subscriptions to use InnoCode?', a: 'No, you can use InnoCode with your existing AI subscriptions like GitHub Copilot or ChatGPT Plus.' },
  { q: 'Can I use my existing AI subscriptions with InnoCode?', a: 'Yes! InnoCode supports GitHub Copilot, ChatGPT Plus/Pro, and many other providers.' },
  { q: 'Can I only use InnoCode in the terminal?', a: 'No, InnoCode is available as a terminal app, desktop app, and IDE extension.' },
  { q: 'How much does InnoCode cost?', a: 'InnoCode is free to use. You only pay for the AI provider you choose to use.' },
  { q: 'What about data and privacy?', a: 'InnoCode does not store your code or context data. All processing happens locally or through direct API calls to your AI provider.' },
];
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>InnoCode - The AI coding agent</title>
  <meta name="description" content="Free models included or connect any model from any provider, including Claude, GPT, Gemini and more." />
  <link rel="icon" type="image/svg+xml" href="/favicon-v3.svg" />
  <style>
    :root {
      --bg: #0f0f0f;
      --bg-secondary: #171717;
      --bg-tertiary: #1f1f1f;
      --bg-card: #141414;
      --text: #ffffff;
      --text-secondary: #a1a1a1;
      --text-muted: #666666;
      --border: #262626;
      --font: ui-monospace, 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
    }

    :root.light {
      --bg: #fafafa;
      --bg-secondary: #f5f5f5;
      --bg-tertiary: #ebebeb;
      --bg-card: #ffffff;
      --text: #0f0f0f;
      --text-secondary: #525252;
      --text-muted: #a1a1a1;
      --border: #e5e5e5;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    html {
      font-family: var(--font);
      font-size: 14px;
      background: var(--bg);
      color: var(--text);
    }

    a { color: inherit; text-decoration: none; }

    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
    }

    .header-inner {
      max-width: 1000px;
      margin: 0 auto;
      padding: 0.75rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo img { height: 20px; }
    .logo .light-logo { display: none; }
    :root.light .logo .dark-logo { display: none; }
    :root.light .logo .light-logo { display: block; }

    .nav { display: flex; align-items: center; gap: 1.5rem; }
    .nav a { color: var(--text-secondary); font-size: 0.85rem; }
    .nav a:hover { color: var(--text); }

    .nav-buttons { display: flex; align-items: center; gap: 0.75rem; }

    .btn {
      padding: 0.4rem 0.75rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-family: var(--font);
      cursor: pointer;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text);
    }
    .btn:hover { background: var(--bg-secondary); }
    .btn-primary { background: var(--text); color: var(--bg); border-color: var(--text); }
    .btn-primary:hover { opacity: 0.85; }

    .theme-toggle {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.25rem;
      color: var(--text-secondary);
      font-size: 1rem;
    }

    main { max-width: 1000px; margin: 0 auto; padding: 0 1.5rem; }

    .hero { padding: 3rem 0; }
    .hero h1 { font-size: 2rem; font-weight: 500; margin-bottom: 0.75rem; }
    .hero-subtitle { font-size: 0.95rem; color: var(--text-secondary); max-width: 450px; line-height: 1.5; margin-bottom: 1.5rem; }

    .install-box {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 6px;
      margin-bottom: 2rem;
      max-width: 500px;
    }

    .install-tabs { display: flex; border-bottom: 1px solid var(--border); padding: 0 0.5rem; }
    .install-tab {
      padding: 0.6rem 0.75rem;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 0.8rem;
      font-family: var(--font);
      cursor: pointer;
      border-bottom: 1px solid transparent;
      margin-bottom: -1px;
    }
    .install-tab:hover { color: var(--text-secondary); }
    .install-tab.active { color: var(--text); border-bottom-color: var(--text); }

    .install-command {
      padding: 0.75rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }
    .install-command code { font-family: var(--font); font-size: 0.85rem; color: var(--text-muted); }
    .install-command code .hl { color: var(--text); }

    .copy-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      padding: 0.25rem;
      display: flex;
    }
    .copy-btn:hover { color: var(--text); }

    .screenshot {
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid var(--border);
    }
    .screenshot img { width: 100%; display: block; }

    .section { padding: 3rem 0; border-top: 1px solid var(--border); }
    .section-title { font-size: 1rem; font-weight: 500; margin-bottom: 1rem; }
    .section-desc { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; margin-bottom: 1.5rem; }

    .features-list { display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1.5rem; }
    .feature-item { display: flex; gap: 0.5rem; font-size: 0.9rem; line-height: 1.5; }
    .feature-marker { color: var(--text-muted); }
    .feature-title { color: var(--text); font-weight: 500; }
    .feature-desc { color: var(--text-secondary); }

    .read-docs-btn {
      display: inline-block;
      padding: 0.5rem 1rem;
      border: 1px solid var(--border);
      border-radius: 4px;
      font-size: 0.85rem;
    }
    .read-docs-btn:hover { background: var(--bg-secondary); }

    .privacy-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 1.5rem;
    }
    .privacy-card h2 { font-size: 1rem; font-weight: 500; margin-bottom: 0.75rem; }
    .privacy-card p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }
    .privacy-card a { text-decoration: underline; }

    .faq-list { display: flex; flex-direction: column; }
    .faq-item { border-bottom: 1px solid var(--border); }
    .faq-question {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      width: 100%;
      background: none;
      border: none;
      color: var(--text);
      font-size: 0.9rem;
      font-family: var(--font);
      text-align: left;
      padding: 1rem 0;
      cursor: pointer;
    }
    .faq-icon { color: var(--text-muted); width: 1rem; text-align: center; }
    .faq-icon::before { content: '+'; }
    .faq-item.open .faq-icon::before { content: '−'; }
    .faq-answer { display: none; padding: 0 0 1rem 1.75rem; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }
    .faq-item.open .faq-answer { display: block; }

    .footer { border-top: 1px solid var(--border); padding: 1.5rem 0; }
    .footer-inner { max-width: 1000px; margin: 0 auto; padding: 0 1.5rem; }
    .footer-links { display: flex; gap: 1.5rem; margin-bottom: 1rem; }
    .footer-links a { color: var(--text-secondary); font-size: 0.85rem; }
    .footer-links a:hover { color: var(--text); }
    .footer-bottom { display: flex; gap: 1.5rem; color: var(--text-muted); font-size: 0.8rem; }
    .footer-bottom a { color: var(--text-muted); }

    @media (max-width: 768px) {
      .nav { display: none; }
    }

    .cmd-panel { display: none; }
    .cmd-panel.active { display: inline; }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="/" class="logo">
        <img src={LogoDark.src} alt="InnoCode" class="dark-logo" />
        <img src={LogoLight.src} alt="InnoCode" class="light-logo" />
      </a>
      <nav class="nav">
        <a href="https://github.com/InnoKI/innocode" target="_blank">GitHub</a>
        <a href="/intro">Docs</a>
        <a href="/enterprise">Enterprise</a>
      </nav>
      <div class="nav-buttons">
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
          <span class="dark-icon">☀</span>
          <span class="light-icon" style="display:none">☾</span>
        </button>
        <a href="/intro" class="btn btn-primary">↓ Free</a>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>The AI coding agent</h1>
      <p class="hero-subtitle">Free models included or connect any model from any provider, including Claude, GPT, Gemini and more.</p>

      <div class="install-box">
        <div class="install-tabs">
          <button class="install-tab active" data-cmd="curl">curl</button>
          <button class="install-tab" data-cmd="npm">npm</button>
          <button class="install-tab" data-cmd="bun">Bun</button>
          <button class="install-tab" data-cmd="brew">brew</button>
          <button class="install-tab" data-cmd="paru">paru</button>
        </div>
        <div class="install-command">
          <code>
            <span class="cmd-panel active" data-cmd="curl">curl -fsSL https://<span class="hl">innocode.io/install</span> | bash</span>
            <span class="cmd-panel" data-cmd="npm">npm install -g <span class="hl">@innogpt/innocode</span></span>
            <span class="cmd-panel" data-cmd="bun">bun install -g <span class="hl">@innogpt/innocode</span></span>
            <span class="cmd-panel" data-cmd="brew">brew install <span class="hl">InnoKI/tap/innocode</span></span>
            <span class="cmd-panel" data-cmd="paru">paru -S <span class="hl">innocode-bin</span></span>
          </code>
          <button class="copy-btn" id="copy-btn" aria-label="Copy">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
          </button>
        </div>
      </div>

      <div class="screenshot">
        <Image src={Screenshot} alt="InnoCode in action" />
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">What is InnoCode?</h2>
      <p class="section-desc">InnoCode is an AI coding agent that helps you write code in your terminal, IDE, or desktop.</p>

      <div class="features-list">
        {features.map(f => (
          <div class="feature-item">
            <span class="feature-marker">[+]</span>
            <span><span class="feature-title">{f.title}</span> <span class="feature-desc">{f.desc}</span></span>
          </div>
        ))}
      </div>

      <a href="/intro" class="read-docs-btn">Read docs →</a>
    </section>

    <section class="section">
      <div class="privacy-card">
        <h2>Built for privacy first</h2>
        <p>[+] InnoCode does not store any of your code or context data, so that it can operate in privacy sensitive environments. <a href="/enterprise">Learn more about privacy</a>.</p>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">FAQ</h2>
      <div class="faq-list">
        {faqs.map(faq => (
          <div class="faq-item">
            <button class="faq-question">
              <span class="faq-icon"></span>
              {faq.q}
            </button>
            <div class="faq-answer">{faq.a}</div>
          </div>
        ))}
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-links">
        <a href="https://github.com/InnoKI/innocode" target="_blank">GitHub</a>
        <a href="/intro">Docs</a>
        <a href="https://github.com/InnoKI/innocode/releases" target="_blank">Changelog</a>
      </div>
      <div class="footer-bottom">
        <span>©2026 InnoGPT</span>
        <a href="/enterprise">Privacy</a>
      </div>
    </div>
  </footer>

  <script>
    const toggle = document.getElementById('theme-toggle');
    const darkIcon = toggle?.querySelector('.dark-icon') as HTMLElement | null;
    const lightIcon = toggle?.querySelector('.light-icon') as HTMLElement | null;

    function setTheme(isDark: boolean) {
      document.documentElement.classList.toggle('light', !isDark);
      if (darkIcon && lightIcon) {
        darkIcon.style.display = isDark ? 'inline' : 'none';
        lightIcon.style.display = isDark ? 'none' : 'inline';
      }
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    }

    const saved = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    setTheme(saved ? saved === 'dark' : prefersDark);

    toggle?.addEventListener('click', () => {
      setTheme(document.documentElement.classList.contains('light'));
    });

    const tabs = document.querySelectorAll('.install-tab');
    const panels = document.querySelectorAll('.cmd-panel');
    const cmds: Record<string, string> = {
      curl: 'curl -fsSL https://innocode.io/install | bash',
      npm: 'npm install -g @innogpt/innocode',
      bun: 'bun install -g @innogpt/innocode',
      brew: 'brew install InnoKI/tap/innocode',
      paru: 'paru -S innocode-bin',
    };
    let current = 'curl';

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        current = (tab as HTMLElement).dataset.cmd || 'curl';
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        panels.forEach(p => p.classList.toggle('active', (p as HTMLElement).dataset.cmd === current));
      });
    });

    const copyBtn = document.getElementById('copy-btn');
    copyBtn?.addEventListener('click', () => {
      navigator.clipboard.writeText(cmds[current]);
      if (copyBtn) copyBtn.textContent = '✓';
      setTimeout(() => {
        if (copyBtn) copyBtn.innerHTML = '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
      }, 2000);
    });

    document.querySelectorAll('.faq-question').forEach(btn => {
      btn.addEventListener('click', () => btn.parentElement?.classList.toggle('open'));
    });
  </script>
</body>
</html>
