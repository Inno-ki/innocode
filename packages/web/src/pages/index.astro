---
import { Image } from 'astro:assets';
import LogoDark from '../assets/logo-dark.svg';
import LogoLight from '../assets/logo-light.svg';
import Screenshot from '../assets/lander/screenshot-splash.png';

const features = [
  { title: 'LSP enabled', desc: 'Automatically loads the right LSPs for the LLM' },
  { title: 'Multi-session', desc: 'Start multiple agents in parallel on the same project' },
  { title: 'GitHub Copilot', desc: 'Log in with GitHub to use your Copilot account' },
  { title: 'ChatGPT Plus/Pro', desc: 'Log in with OpenAI to use your ChatGPT Plus or Pro account' },
  { title: 'Any model', desc: '75+ LLM providers through Models.dev, including local models' },
  { title: 'Any editor', desc: 'Available as a terminal interface, desktop app, and IDE extension' },
];

const faqs = [
  { q: 'What is InnoCode?', a: 'InnoCode is an open source AI coding agent that helps you write code in your terminal, IDE, or desktop.' },
  { q: 'How do I use InnoCode?', a: 'Install InnoCode using one of the methods above, configure your API key, and start coding with AI assistance.' },
  { q: 'Do I need extra AI subscriptions to use InnoCode?', a: 'No, you can use InnoCode with your existing AI subscriptions like GitHub Copilot or ChatGPT Plus.' },
  { q: 'Can I use my existing AI subscriptions with InnoCode?', a: 'Yes! InnoCode supports GitHub Copilot, ChatGPT Plus/Pro, and many other providers.' },
  { q: 'Can I only use InnoCode in the terminal?', a: 'No, InnoCode is available as a terminal app, desktop app, and IDE extension.' },
  { q: 'How much does InnoCode cost?', a: 'InnoCode is free and open source. You only pay for the AI provider you choose to use.' },
  { q: 'What about data and privacy?', a: 'InnoCode does not store your code or context data. All processing happens locally or through direct API calls to your AI provider.' },
  { q: 'Is InnoCode open source?', a: 'Yes, InnoCode is fully open source under the MIT license.' },
];
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>InnoCode - The open source AI coding agent</title>
  <meta name="description" content="Free models included or connect any model from any provider, including Claude, GPT, Gemini and more." />
  <link rel="icon" type="image/svg+xml" href="/favicon-v3.svg" />
  <style>
    :root {
      --bg: #0d0d0d;
      --bg-secondary: #1a1a1a;
      --bg-tertiary: #262626;
      --text: #ffffff;
      --text-secondary: #a3a3a3;
      --text-muted: #737373;
      --border: #333333;
      --accent: #ffffff;
      --font: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      --font-mono: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace;
    }

    :root.light {
      --bg: #ffffff;
      --bg-secondary: #f5f5f5;
      --bg-tertiary: #e5e5e5;
      --text: #0d0d0d;
      --text-secondary: #525252;
      --text-muted: #737373;
      --border: #d4d4d4;
      --accent: #0d0d0d;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      scroll-behavior: smooth;
    }

    body {
      min-height: 100vh;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--bg);
      border-bottom: 1px solid var(--border);
    }

    .header-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .logo img {
      height: 28px;
      width: auto;
    }

    .logo .light-logo { display: none; }
    :root.light .logo .dark-logo { display: none; }
    :root.light .logo .light-logo { display: block; }

    .nav {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .nav a {
      color: var(--text-secondary);
      font-size: 0.9rem;
      transition: color 0.2s;
    }

    .nav a:hover {
      color: var(--text);
    }

    .nav-buttons {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .btn {
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text);
    }

    .btn:hover {
      background: var(--bg-secondary);
    }

    .btn-primary {
      background: var(--text);
      color: var(--bg);
      border-color: var(--text);
    }

    .btn-primary:hover {
      opacity: 0.9;
    }

    .theme-toggle {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.5rem;
      color: var(--text-secondary);
      font-size: 1.2rem;
    }

    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .hero {
      padding: 4rem 0;
      text-align: center;
    }

    .hero h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 600;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
    }

    .hero p {
      font-size: 1.1rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto 2rem;
    }

    .install-section {
      max-width: 600px;
      margin: 0 auto 3rem;
      background: var(--bg-secondary);
      border-radius: 12px;
      border: 1px solid var(--border);
      overflow: hidden;
    }

    .install-tabs {
      display: flex;
      border-bottom: 1px solid var(--border);
    }

    .install-tab {
      flex: 1;
      padding: 0.75rem 1rem;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
      font-family: var(--font-mono);
    }

    .install-tab:hover {
      color: var(--text-secondary);
    }

    .install-tab.active {
      color: var(--text);
      background: var(--bg-tertiary);
    }

    .install-command {
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .install-command code {
      font-family: var(--font-mono);
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .install-command code .highlight {
      color: var(--text);
    }

    .copy-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      padding: 0.25rem;
      transition: color 0.2s;
    }

    .copy-btn:hover {
      color: var(--text);
    }

    .screenshot {
      margin: 3rem 0;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid var(--border);
    }

    .screenshot img {
      width: 100%;
      height: auto;
      display: block;
    }

    .section {
      padding: 4rem 0;
      border-top: 1px solid var(--border);
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .section-desc {
      color: var(--text-secondary);
      margin-bottom: 2rem;
    }

    .features {
      display: grid;
      gap: 1rem;
    }

    .feature {
      display: flex;
      gap: 0.75rem;
      align-items: baseline;
    }

    .feature-marker {
      color: var(--text-muted);
    }

    .feature-title {
      font-weight: 500;
    }

    .feature-desc {
      color: var(--text-secondary);
    }

    .read-docs {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 2rem;
      padding: 0.75rem 1.5rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-weight: 500;
      transition: all 0.2s;
    }

    .read-docs:hover {
      background: var(--bg-secondary);
    }

    .privacy-section {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 2rem;
      margin: 2rem 0;
    }

    .faq-list {
      display: grid;
      gap: 0;
    }

    .faq-item {
      border-bottom: 1px solid var(--border);
      padding: 1rem 0;
    }

    .faq-question {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      width: 100%;
      background: none;
      border: none;
      color: var(--text);
      font-size: 1rem;
      text-align: left;
      padding: 0.5rem 0;
      font-family: inherit;
    }

    .faq-question::before {
      content: '+';
      color: var(--text-muted);
      font-weight: 300;
      font-size: 1.25rem;
      width: 1.5rem;
    }

    .faq-answer {
      display: none;
      padding: 0.5rem 0 0.5rem 2.25rem;
      color: var(--text-secondary);
    }

    .faq-item.open .faq-question::before {
      content: '‚àí';
    }

    .faq-item.open .faq-answer {
      display: block;
    }

    .zen-section {
      text-align: center;
      padding: 4rem 2rem;
    }

    .provider-icons {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin: 2rem 0;
      font-size: 1.5rem;
      color: var(--text-muted);
    }

    .newsletter {
      padding: 4rem 0;
      text-align: center;
      border-top: 1px solid var(--border);
    }

    .newsletter-form {
      display: flex;
      gap: 0.5rem;
      max-width: 400px;
      margin: 1rem auto 0;
    }

    .newsletter-form input {
      flex: 1;
      padding: 0.75rem 1rem;
      border: 1px solid var(--border);
      border-radius: 6px;
      background: var(--bg-secondary);
      color: var(--text);
      font-size: 0.9rem;
    }

    .newsletter-form input::placeholder {
      color: var(--text-muted);
    }

    .footer {
      border-top: 1px solid var(--border);
      padding: 2rem;
    }

    .footer-inner {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .footer-links {
      display: flex;
      gap: 2rem;
    }

    .footer-links a {
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .footer-links a:hover {
      color: var(--text);
    }

    .footer-bottom {
      color: var(--text-muted);
      font-size: 0.85rem;
      display: flex;
      gap: 1.5rem;
    }

    @media (max-width: 768px) {
      .header-inner {
        padding: 1rem;
      }

      .nav {
        display: none;
      }

      main {
        padding: 0 1rem;
      }

      .hero {
        padding: 2rem 0;
      }

      .newsletter-form {
        flex-direction: column;
      }

      .footer-inner {
        flex-direction: column;
        text-align: center;
      }

      .footer-links {
        flex-wrap: wrap;
        justify-content: center;
      }
    }

    /* Hide command panels by default, show active one */
    .cmd-panel { display: none; }
    .cmd-panel.active { display: block; }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="/" class="logo">
        <img src={LogoDark.src} alt="InnoCode" class="dark-logo" />
        <img src={LogoLight.src} alt="InnoCode" class="light-logo" />
      </a>
      <nav class="nav">
        <a href="https://github.com/InnoKI/innocode" target="_blank">GitHub</a>
        <a href="/intro">Docs</a>
        <a href="/enterprise">Enterprise</a>
        <a href="/zen">Zen</a>
      </nav>
      <div class="nav-buttons">
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
          <span class="dark-icon">‚òÄÔ∏è</span>
          <span class="light-icon" style="display:none">üåô</span>
        </button>
        <a href="/intro" class="btn btn-primary">Get Started</a>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <h1>The open source AI coding agent</h1>
      <p>Free models included or connect any model from any provider, including Claude, GPT, Gemini and more.</p>

      <div class="install-section">
        <div class="install-tabs">
          <button class="install-tab active" data-cmd="curl">curl</button>
          <button class="install-tab" data-cmd="npm">npm</button>
          <button class="install-tab" data-cmd="bun">bun</button>
          <button class="install-tab" data-cmd="mise">mise</button>
        </div>
        <div class="install-command">
          <code>
            <span class="cmd-panel active" data-cmd="curl">curl -fsSL https://<span class="highlight">innocode.io/install</span> | bash</span>
            <span class="cmd-panel" data-cmd="npm">npm install -g <span class="highlight">@innogpt/innocode</span></span>
            <span class="cmd-panel" data-cmd="bun">bun install -g <span class="highlight">@innogpt/innocode</span></span>
            <span class="cmd-panel" data-cmd="mise">mise use -g <span class="highlight">github:InnoKI/innocode</span></span>
          </code>
          <button class="copy-btn" id="copy-btn" aria-label="Copy to clipboard">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
          </button>
        </div>
      </div>

      <div class="screenshot">
        <Image src={Screenshot} alt="InnoCode in action" />
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">What is InnoCode?</h2>
      <p class="section-desc">InnoCode is an open source agent that helps you write code in your terminal, IDE, or desktop.</p>

      <div class="features">
        {features.map(f => (
          <div class="feature">
            <span class="feature-marker">[+]</span>
            <span class="feature-title">{f.title}</span>
            <span class="feature-desc">{f.desc}</span>
          </div>
        ))}
      </div>

      <a href="/intro" class="read-docs">
        Read docs ‚Üí
      </a>
    </section>

    <section class="section">
      <div class="privacy-section">
        <h2 class="section-title">Built for privacy first</h2>
        <p>[+] InnoCode does not store any of your code or context data, so that it can operate in privacy sensitive environments. <a href="/introenterprise" style="text-decoration: underline;">Learn more about privacy</a>.</p>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">FAQ</h2>
      <div class="faq-list">
        {faqs.map(faq => (
          <div class="faq-item">
            <button class="faq-question">{faq.q}</button>
            <div class="faq-answer">{faq.a}</div>
          </div>
        ))}
      </div>
    </section>

    <section class="zen-section section">
      <h2 class="section-title">Access reliable optimized models for coding agents</h2>
      <p class="section-desc">Zen gives you access to a handpicked set of AI models that InnoCode has tested and benchmarked specifically for coding agents. No need to worry about inconsistent performance and quality across providers, use validated models that work.</p>
      <div class="provider-icons">
        <span>‚óâ</span>
        <span>‚¨°</span>
        <span>‚ú¶</span>
        <span>‚óà</span>
        <span>‚¨¢</span>
      </div>
      <a href="/introzen" class="read-docs">Learn about Zen ‚Üí</a>
    </section>

    <section class="newsletter">
      <h2 class="section-title">Be the first to know when we release new products</h2>
      <p style="color: var(--text-secondary);">Join the waitlist for early access.</p>
      <form class="newsletter-form">
        <input type="email" placeholder="Email address" required />
        <button type="submit" class="btn btn-primary">Subscribe</button>
      </form>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-links">
        <a href="https://github.com/InnoKI/innocode" target="_blank">GitHub</a>
        <a href="/intro">Docs</a>
        <a href="https://github.com/InnoKI/innocode/releases" target="_blank">Changelog</a>
      </div>
      <div class="footer-bottom">
        <span>¬©2025 InnoGPT</span>
        <a href="/introenterprise">Privacy</a>
      </div>
    </div>
  </footer>

  <script>
    // Theme toggle
    const toggle = document.getElementById('theme-toggle');
    const darkIcon = toggle?.querySelector('.dark-icon') as HTMLElement | null;
    const lightIcon = toggle?.querySelector('.light-icon') as HTMLElement | null;

    function setTheme(isDark: boolean) {
      document.documentElement.classList.toggle('light', !isDark);
      if (darkIcon && lightIcon) {
        darkIcon.style.display = isDark ? 'inline' : 'none';
        lightIcon.style.display = isDark ? 'none' : 'inline';
      }
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
    }

    const saved = localStorage.getItem('theme');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    setTheme(saved ? saved === 'dark' : prefersDark);

    toggle?.addEventListener('click', () => {
      const isDark = !document.documentElement.classList.contains('light');
      setTheme(!isDark);
    });

    // Install tabs
    const tabs = document.querySelectorAll('.install-tab');
    const panels = document.querySelectorAll('.cmd-panel');
    const rawCommands: Record<string, string> = {
      curl: 'curl -fsSL https://innocode.io/install | bash',
      npm: 'npm install -g @innogpt/innocode',
      bun: 'bun install -g @innogpt/innocode',
      mise: 'mise use -g github:InnoKI/innocode',
    };
    let currentCmd = 'curl';

    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const cmd = (tab as HTMLElement).dataset.cmd || 'curl';
        currentCmd = cmd;
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        panels.forEach(p => {
          p.classList.toggle('active', (p as HTMLElement).dataset.cmd === cmd);
        });
      });
    });

    // Copy button
    const copyBtn = document.getElementById('copy-btn');
    copyBtn?.addEventListener('click', () => {
      navigator.clipboard.writeText(rawCommands[currentCmd]);
      if (copyBtn) copyBtn.textContent = '‚úì';
      setTimeout(() => {
        if (copyBtn) {
          copyBtn.innerHTML = '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>';
        }
      }, 2000);
    });

    // FAQ toggle
    document.querySelectorAll('.faq-question').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.parentElement?.classList.toggle('open');
      });
    });
  </script>
</body>
</html>
